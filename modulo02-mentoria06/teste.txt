-- Database: escola_python

-- DROP DATABASE IF EXISTS escola_python;

-- CREATE DATABASE escola_python
--     WITH
--     OWNER = postgres
--     ENCODING = 'UTF8'
--     LC_COLLATE = 'Portuguese_Brazil.1252'
--     LC_CTYPE = 'Portuguese_Brazil.1252'
--     LOCALE_PROVIDER = 'libc'
--     TABLESPACE = pg_default
--     CONNECTION LIMIT = -1
--     IS_TEMPLATE = False


	
CREATE TABLE professores(
	id INT PRIMARY KEY,
	nome VARCHAR(30),
	sobrenome VARCHAR(40),
	materia_id INT NOT NULL,--REFERENCES materias(id)
	FOREIGN KEY materia_id REFERENCES materias(id)
);
		
CREATE TABLE alunos(
	id INT PRIMARY KEY,
	nome VARCHAR(50) NOT NULL,
	sobrenome VARCHAR(50),
	telefone VARCHAR(40),
	data_nasc DATE,
	turma_id INT NOT NULL,
	CONSTRAINT FOREIGN KEY turma_id REFERENCES turmas(id)
);

CREATE TABLE materias(
	id INT PRIMARY KEY,
	nome varchar(50) NOT NULL
);

--para período: CHECK (periodo IN ('Manhã', 'Tarde', 'Noite')) 
CREATE TABLE turmas(
	id INT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL,
    periodo VARCHAR(20) NOT NULL,
	nome_turma VARCHAR(30),
	grade_id INT NOT NULL
	FOREIGN KEY grade_id REFERENCES grade (id	)
);
		
CREATE TABLE grade(
	id INT PRIMARY KEY,
	turma_id INT NOT NULL,
	materia_id INT NOT NULL,
	dia_semana CHAR(3) NOT NULL,
	
	-- materia_id INT NOT NULL,
	-- aluno_id INT NOT NULL,
	-- trimestre INT NOT NULL,
	-- nota NUMERIC(2,2) NOT NULL
);